{"version":3,"sources":["../src/PAY.js"],"names":["name","PAY","obj","fn","window","WinJSBridge","call","code","res","response","Error","appError","TypeError","fnError"],"mappings":"AAAA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;;AAEA,IAAIA,OAAO,KAAX;AACA,IAAIC,MAAM,SAANA,GAAM,CAACC,GAAD,EAAmB;AAAA,MAAbC,EAAa,uEAAV,aAAG,CAAE,CAAK;;AAC3B,MAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,0BAAS,aAAK;AACZC,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,SAAxB,EAAmC,KAAnC,EAA0CJ,GAA1C,EAA+C,eAAO;AAAA,YAC/CK,IAD+C,GAC7BC,GAD6B,CAC/CD,IAD+C;AAAA,YACzCE,QADyC,GAC7BD,GAD6B,CACzCC,QADyC;;AAEpD,YAAIF,QAAQ,CAAZ,EAAe;AACbJ,aAAGM,QAAH;AACD,SAFD,MAEO;AACL,gBAAM,IAAIC,KAAJ,OAAcV,IAAd,UAAuBW,gBAAvB,CAAN;AACD;AACF,OAPD;AAQD,KATD;AAUD,GAXD,MAWO;AACL,UAAM,IAAIC,SAAJ,OAAkBZ,IAAlB,UAA2Ba,eAA3B,CAAN;AACD;AACF,CAfD;kBAgBeZ,G","file":"PAY.js","sourcesContent":["'use strict';\n// 收银台\n\n\n// {\n//   old: false,        //类型 默认 false\n//     title:'自定义标题', //标题 默认 金额\n//   hideIcon:false,   //隐藏icon 默认false\n//   amount:'10',      //金额\n//   point:'1000',     //积分\n//   others:{          //密码验证携带额外参数\n//   authCode:'61271234761236123'\n// }\n// }\n\n//{\n//     code: 0,\n//     response:{\n//         passToken: '',   //密码接口返回字段\n//         resultCode:0    //结果状态（0-成功，1-失败，99-取消）\n//     }\n//   }\nimport {WinJSDec, fnError, appError} from './APP/config';\n\nvar name = 'PAY';\nvar PAY = (obj, fn=_=>{}) => {\n  if (typeof fn === 'function') {\n    WinJSDec(_ => {\n      window.WinJSBridge.call('paydesk', 'pay', obj, res => {\n        var {code, response} = res;\n        if (code == 0) {\n          fn(response);\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${fnError}`);\n  }\n};\nexport default PAY;"]}