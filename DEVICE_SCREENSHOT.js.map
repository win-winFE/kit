{"version":3,"sources":["../src/DEVICE_SCREENSHOT.js"],"names":["name","DEVICE_SCREENSHOT","fn","window","WinJSBridge","call","scaleWithMinPix","scaleValue","quality","code","res","response","result","screenShot","Error","appError","TypeError","fnError"],"mappings":"AAAA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AAIA;;AAEA,IAAIA,OAAO,mBAAX;AACA,IAAIC,oBAAoB,SAApBA,iBAAoB,GAClB;AAAA,MADmBC,EACnB,uEADwB,aAAK,CAClC,CAAK;;AACJ,MAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,0BAAS,aAAK;AACZC,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,SAAxB,EAAmC,YAAnC,EAAiD;AAC/CC,yBAAiB,KAD8B;AAE/CC,oBAAY,CAFmC;AAG/CC,iBAAS;AAHsC,OAAjD,EAIG,eAAO;AAAA,YACHC,IADG,GACeC,GADf,CACHD,IADG;AAAA,YACGE,QADH,GACeD,GADf,CACGC,QADH;;AAER,YAAIF,QAAQ,CAAZ,EAAe;AACb,cAAIG,SAASD,QAAb;AACAC,iBAAOC,UAAP,GAAoB,2BAA2BD,OAAOC,UAAtD;AACAX,aAAGU,MAAH;AACD,SAJD,MAIO;AACL,gBAAM,IAAIE,KAAJ,OAAcd,IAAd,UAAuBe,gBAAvB,CAAN;AACD;AACF,OAbD;AAcD,KAfD;AAgBD,GAjBD,MAiBO;AACL,UAAM,IAAIC,SAAJ,OAAkBhB,IAAlB,UAA2BiB,eAA3B,CAAN;AACD;AACF,CAtBD;kBAuBehB,iB","file":"DEVICE_SCREENSHOT.js","sourcesContent":["'use strict';\n/**\n * @api SCREEN_SHOT() SCREEN_SHOT\n * @apiGroup APP\n * @apiVersion 1.0.0\n * @apiParam {boolean} type=false 刷新方式\n * @apiDescription app 容器强制刷新\n * @apiUse APPNpm\n * @apiUse APPJs\n * @apiParamExample {string} 例子\n * SCREEN_SHOT(({screenShot})=>{\n *    console.log(screenShot) // base64图片\n * })\n * @apiParamExample {string} 返回值\n * {\n *       resultCode:0,\n *       screenShot:'' // base64图片\n *  }\n //  **/\n// {\n//   scaleWithMinPix: false //最终图片缩小方式，true-按最低像素值缩小;false-按等比缩小.默认true\n//   scaleValue: 0,\t\t   //图片缩小值.如果 scaleWithMinPix 为true时，scalevalue或最低像素值;false时，为等比缩小值. scalevalue或0.7倍\n//     quality: 0.6\t\t   //图片质量（0-1）默认0.6\n// }\n// {\n//   code:0,\n//     response:{\n//   resultCode:0,\n//     screenShot:'' ///base64图片\n// }\n// }\n\n/**\n * todo DEVICE\n */\n\nimport {WinJSDec, fnError, appError} from './APP/config';\n\nvar name = 'DEVICE_SCREENSHOT';\nvar DEVICE_SCREENSHOT = (fn = _ => {\n}) => {\n  if (typeof fn === 'function') {\n    WinJSDec(_ => {\n      window.WinJSBridge.call('webview', 'screenShot', {\n        scaleWithMinPix: false,\n        scaleValue: 0,\n        quality: 0.6\n      }, res => {\n        var {code, response} = res;\n        if (code == 0) {\n          var result = response;\n          result.screenShot = 'data:image/jpg;base64,' + result.screenShot;\n          fn(result);\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${fnError}`);\n  }\n};\nexport default DEVICE_SCREENSHOT;\n"]}