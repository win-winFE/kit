{"version":3,"sources":["../src/DEVICE_INSTALL.js"],"names":["name","DEVICE_INSTALL","appId","fn","window","WinJSBridge","call","res","code","response","Error","appError","TypeError","fnError"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AAGA;;AAEA,IAAIA,OAAO,gBAAX;AACA,IAAIC,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EACf;AAAA,MADuBC,EACvB,uEAD4B,aAAK,CACtC,CAAK;;AACJ,MAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,0BAAS,aAAK;AACZC,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,QAAxB,EAAkC,WAAlC,EAA+C,EAACJ,OAAOA,KAAR,EAA/C,EAA+D,UAAUK,GAAV,EAAe;AAAA,YACvEC,IADuE,GACrDD,GADqD,CACvEC,IADuE;AAAA,YACjEC,QADiE,GACrDF,GADqD,CACjEE,QADiE;;AAE5E,YAAID,QAAQ,CAAZ,EAAe;AACbL,aAAGM,QAAH;AACD,SAFD,MAEO;AACL,gBAAM,IAAIC,KAAJ,OAAcV,IAAd,UAAuBW,gBAAvB,CAAN;AACD;AACF,OAPD;AAQD,KATD;AAUD,GAXD,MAWO;AACL,UAAM,IAAIC,SAAJ,OAAkBZ,IAAlB,UAA2Ba,eAA3B,CAAN;AACD;AACF,CAhBD;kBAiBeZ,c","file":"DEVICE_INSTALL.js","sourcesContent":["'use strict';\n// {\n//   appId: '...' //查询app的标识\n// }\n// {\n//   code:0,\n//     response:{\n//   isInstalled: true\n// }\n// }\n\n/**\n * todo DEVICE\n */\nimport {WinJSDec, fnError, appError} from './APP/config';\n\nvar name = 'DEVICE_INSTALL';\nvar DEVICE_INSTALL = (appId, fn = _ => {\n}) => {\n  if (typeof fn === 'function') {\n    WinJSDec(_ => {\n      window.WinJSBridge.call('device', 'isInstall', {appId: appId}, function (res) {\n        var {code, response} = res;\n        if (code == 0) {\n          fn(response);\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${fnError}`);\n  }\n};\nexport default DEVICE_INSTALL;"]}