{"version":3,"sources":["../src/STORAGE_GET.js"],"names":["name","STORAGE_GET","key","fn","window","WinJSBridge","call","res","code","response","Error","appError","TypeError","fnError"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;;AAEA,IAAIA,OAAO,aAAX;AACA,IAAIC,cAAc,SAAdA,WAAc,CAACC,GAAD,EAAmB;AAAA,MAAbC,EAAa,uEAAV,aAAG,CAAE,CAAK;;AACnC,MAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,0BAAS,aAAK;AACZC,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,SAAxB,EAAmC,MAAnC,EAA2C,EAACJ,QAAD,EAA3C,EAAkD,UAAUK,GAAV,EAAe;AAAA,YAC1DC,IAD0D,GACxCD,GADwC,CAC1DC,IAD0D;AAAA,YACpDC,QADoD,GACxCF,GADwC,CACpDE,QADoD;;AAE/D,YAAID,QAAQ,CAAZ,EAAe;AACbL,aAAGM,QAAH;AACD,SAFD,MAEO;AACL,gBAAM,IAAIC,KAAJ,OAAcV,IAAd,UAAuBW,gBAAvB,CAAN;AACD;AACF,OAPD;AAQD,KATD;AAUD,GAXD,MAWO;AACL,UAAM,IAAIC,SAAJ,OAAkBZ,IAAlB,UAA2Ba,eAA3B,CAAN;AACD;AACF,CAfD;kBAgBeZ,W","file":"STORAGE_GET.js","sourcesContent":["'use strict';\n// {\n//   level:1, //level=1 默认清除缓存 level=2 版本更新清除缓存 level=3 不清缓存\n//     k\n// {\n//   code:0,\n//     response: {\n//   data:'data1'\n// }\n// }\nimport {WinJSDec, appError, fnError} from './APP/config';\n\nvar name = 'STORAGE_GET';\nvar STORAGE_GET = (key, fn=_=>{}) => {\n  if (typeof fn === 'function') {\n    WinJSDec(_ => {\n      window.WinJSBridge.call('storage', 'load', {key}, function (res) {\n        var {code, response} = res;\n        if (code == 0) {\n          fn(response);\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${fnError}`);\n  }\n};\nexport default STORAGE_GET;"]}