{"version":3,"sources":["../src/download.js"],"names":["androidApkVersion","iosItunesDownloadUrl","yybDownloadUrl","channel","result","getAndroidApkDownloadUrl","version","download","BROWSER","isClient","isWeixin","iPhone","iPad","iOS","window","open"],"mappings":"AAAA;;;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,oBAAoB,OAAxB;AACA,IAAIC,uBAAuB,kDAA3B;AACA,IAAIC,iBAAiB,yDAArB;AACA,IAAIC,UAAU,EAAd;AACA,qBAAM,sFAAsFA,OAA5F,EAAqG,gBAAQ;AAC3G,MAAIC,SAAS;AACX,eAAW,IADA;AAEX,YAAQ,IAFG;AAGX,eAAW,KAHA;AAIX,eAAW,KAJA;AAKX,eAAW,EALA;AAMX,eAAW,OANA;AAOX,WAAO,yDAPI;AAQX,WAAO,0DARI;AASX,cAAU,IATC;AAUX,mBAAe,IAVJ;AAWX,kBAAc;AAXH,GAAb;AAaD,CAdD;;AAiBA,SAASC,wBAAT,CAAkCC,OAAlC,EAA2CH,OAA3C,EAAoD;AAClD,SAAO,8CAA8CA,OAA9C,GAAwD,QAAxD,GAAmEG,OAAnE,GAA6E,MAApF;AACD;;AAED,SAASC,QAAT,CAAkBJ,OAAlB,EAA2B;AACzB,MAAIK,kBAAQC,QAAZ,EAAsB;AACpB,2BAAQP,cAAR;AACD,GAFD,MAEO;AACL,QAAI,CAACM,kBAAQE,QAAb,EAAuB;AACrB,UAAIF,kBAAQG,MAAR,IAAkBH,kBAAQI,IAA1B,IAAkCJ,kBAAQK,GAA9C,EAAmD;AACjDC,eAAOC,IAAP,CAAYd,oBAAZ;AACD,OAFD,MAEO;AACLa,eAAOC,IAAP,CAAYV,yBAAyBC,OAAzB,EAAkCH,OAAlC,CAAZ;AACD;AACF,KAND,MAMO;AACLW,aAAOC,IAAP,CAAYb,cAAZ;AACD;AACF;AACF;;kBAEcK,Q","file":"download.js","sourcesContent":["'use strict';\n\nimport BROWSER from './BROWSER';\nimport JUMP_TO from './JUMP_TO';\nimport fetch from './fetch';\n\nvar androidApkVersion = \"5.1.1\";\nvar iosItunesDownloadUrl = \"https://itunes.apple.com/cn/app/id660009164?mt=8\";\nvar yybDownloadUrl = \"http://a.app.qq.com/o/simple.jsp?pkgname=com.bench.yylc\";\nlet channel = '';\nfetch('https://mobi.yingyinglicai.com:8443/front/andversion.do?vjson=PC&ver=&registerId=' + channel, data => {\n  var result = {\n    \"is_succ\": true,\n    \"succ\": true,\n    \"timeout\": false,\n    \"overdue\": false,\n    \"err_msg\": \"\",\n    \"version\": \"5.1.1\",\n    \"url\": \"https://yylc-app.b0.upaiyun.com/download/yylc_5.1.1.apk\",\n    \"msg\": \"盈盈理财品牌升级为盈盈金科，业务定位扩大为金融科技平台！\\n\\n【注意】本次更新涉及重要内容，需升级后方可使用哦\",\n    \"update\": true,\n    \"forceUpdate\": true,\n    \"sdkVersion\": \"14\"\n  };\n});\n\n\nfunction getAndroidApkDownloadUrl(version, channel) {\n  return \"https://yylc-app.b0.upaiyun.com/download/\" + channel + \"/yylc_\" + version + \".apk\";\n}\n\nfunction download(channel) {\n  if (BROWSER.isClient) {\n    JUMP_TO(yybDownloadUrl)\n  } else {\n    if (!BROWSER.isWeixin) {\n      if (BROWSER.iPhone || BROWSER.iPad || BROWSER.iOS) {\n        window.open(iosItunesDownloadUrl);\n      } else {\n        window.open(getAndroidApkDownloadUrl(version, channel));\n      }\n    } else {\n      window.open(yybDownloadUrl);\n    }\n  }\n}\n\nexport default download;"]}