{"version":3,"sources":["../src/DEVICE_PHOTO.js"],"names":["name","DEVICE_PHOTO","camera","callback","maxCanPicked","window","WinJSBridge","call","scaleWithMinPix","scaleValue","quality","front","allowsEditing","res","code","response","result","images","map","push","value","Error","appError","TypeError","numError"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AAGA;;AAEA,IAAIA,OAAO,cAAX;AACA,IAAIC,eAAe,SAAfA,YAAe,OAGS;AAAA,yBAFJC,MAEI;AAAA,MAFJA,MAEI,+BAFK,KAEL;AAAA,2BAFYC,QAEZ;AAAA,MAFYA,QAEZ,iCAFuB,aAAK,CACrD,CACyB;AAAA,+BADvBC,YACuB;AAAA,MADvBA,YACuB,qCADR,CACQ;;AAC1B,MAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClC,0BAAS,aAAK;AACZE,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,OAAxB,EAAiC,YAAjC,EAA+C;AAC7CC,yBAAiB,KAD4B;AAE7CC,oBAAY,GAFiC;AAG7CC,iBAAS,CAHoC;AAI7CN,sBAAcA,YAJ+B;AAK7CF,gBAAQA,MALqC;AAM7CS,eAAO,IANsC;AAO7CC,uBAAe;AAP8B,OAA/C,EAQG,UAAUC,GAAV,EAAe;AAAA,YACXC,IADW,GACOD,GADP,CACXC,IADW;AAAA,YACLC,QADK,GACOF,GADP,CACLE,QADK;;AAEhB,YAAID,QAAQ,CAAZ,EAAe;AACb,cAAIE,SAAS,EAAb;AACAD,mBAASE,MAAT,CAAgBC,GAAhB,CAAoB,iBAAS;AAC3BF,mBAAOG,IAAP,CAAY,2BAA2BC,KAAvC;AACD,WAFD;AAGAL,mBAASE,MAAT,GAAkBD,MAAlB;AACAb,mBAASY,QAAT;AACD,SAPD,MAOO;AACL,gBAAM,IAAIM,KAAJ,OAAcrB,IAAd,UAAuBsB,gBAAvB,CAAN;AACD;AACF,OApBD;AAqBD,KAtBD;AAuBD,GAxBD,MAwBO;AACL,UAAM,IAAIC,SAAJ,OAAkBvB,IAAlB,UAA2BwB,gBAA3B,CAAN;AACD;AACF,CA/BD;kBAgCevB,Y","file":"DEVICE_PHOTO.js","sourcesContent":["'use strict';\n// 选择照片\n\n// {\n//     scaleWithMinPix: true, //是否压缩图片 默认 true\n//     scaleValue: 1.1,      //图片缩小值，只有当scaleWithMinPix为false时有效\n//     quality: 80,          //图片的质量\n//     maxCanPicked: 5,      //图片最多可选取数.默认5张\n//     camera: false,        //是否调用摄像头 默认false\n//     front: true,          //true后置，false前置 默认 true\n//     allowsEditing: false  //允不允许编辑图片 默认false\n//  }\n\n//{\n//   code:0,\n//   response:{\n// \tresultCode:0,\n//     images:[ //base64后的图片列表\n//         ...,\n//         ...\n//     ]\n//   }\n// }\n\n/**\n * todo DEVICE\n */\nimport {WinJSDec, numError, appError} from './APP/config';\n\nvar name = 'DEVICE_PHOTO';\nvar DEVICE_PHOTO = ({\n                        camera = false, callback = _ => {\n  }, maxCanPicked = 1\n                      }) => {\n  if (typeof callback === 'function') {\n    WinJSDec(_ => {\n      window.WinJSBridge.call('tools', 'pickPhotos', {\n        scaleWithMinPix: false,\n        scaleValue: 0.8,\n        quality: 1,\n        maxCanPicked: maxCanPicked,\n        camera: camera,\n        front: true,\n        allowsEditing: true\n      }, function (res) {\n        var {code, response} = res;\n        if (code == 0) {\n          let result = [];\n          response.images.map(value => {\n            result.push('data:image/jpg;base64,' + value)\n          });\n          response.images = result;\n          callback(response);\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${numError}`);\n  }\n};\nexport default DEVICE_PHOTO;"]}