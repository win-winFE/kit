{"version":3,"sources":["../src/SHARE_IMG.js"],"names":["name","SHARE_IMG","obj","shareItems","length","window","WinJSBridge","call","res","code","response","shareItem","fn","Error","appError","TypeError","objError"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAGA;;AACA;;;;AACA;;;;AAEA,IAAIA,OAAO,WAAX;AACA,IAAIC,YAAY,SAAZA,SAAY,MAAO;AACrB,MAAI,QAAOC,GAAP,uDAAOA,GAAP,OAAe,QAAnB,EAA6B;AAC3B,0BAAS,aAAK;AACZ,UAAI,CAACA,IAAIC,UAAT,EAAqB;AACnB,YAAI,0BAAYA,UAAZ,CAAuBC,MAAvB,GAAgC,CAApC,EAAuC;AACrCF,cAAI,YAAJ,IAAoB,0BAAYC,UAAhC;AACD;AACF;AACDE,aAAOC,WAAP,CAAmBC,IAAnB,CAAwB,OAAxB,EAAiC,YAAjC,EAA+CL,GAA/C,EAAoD,UAAUM,GAAV,EAAe;AAAA,YAC5DC,IAD4D,GAC1CD,GAD0C,CAC5DC,IAD4D;AAAA,YACtDC,QADsD,GAC1CF,GAD0C,CACtDE,QADsD;;AAEjE,YAAID,QAAQ,CAAZ,EAAe;AACb,cAAIC,SAASC,SAAb,EAAwB;AACtB,iCAAM,MAAN;AACAT,gBAAIU,EAAJ,CAAOF,QAAP;AACD;AACF,SALD,MAKO;AACL,gBAAM,IAAIG,KAAJ,OAAcb,IAAd,UAAuBc,gBAAvB,CAAN;AACD;AACF,OAVD;AAWD,KAjBD;AAkBD,GAnBD,MAmBO;AACL,UAAM,IAAIC,SAAJ,OAAkBf,IAAlB,UAA2BgB,gBAA3B,CAAN;AACD;AACF,CAvBD;kBAwBef,S","file":"SHARE_IMG.js","sourcesContent":["'use strict';\n// 分享 图片\n// {\n//     shareItems: ['sms','qqhy', 'sinawb', 'wxhy', 'wxpyq'], //自定义分享渠道,默认全部支持\n//     shareTitle: '分享标题',  //分享标题\n//     imageUrl: '图片链接'    //图片链接\n//  }\n\n//{\n//   code:0,\n//   response:{\n//     shareItem: '通过哪个渠道分享的', //通过哪个渠道分享的\n//     resultCode: 0   //0：成功 1：失败  99：取消\n//   }\n// }\n/**\n * todo SHARE\n */\nimport {WinJSDec, objError, appError} from './APP/config';\nimport TOAST from './TOAST';\nimport {shareType} from './share/config';\n\nvar name = 'SHARE_IMG';\nvar SHARE_IMG = obj => {\n  if (typeof obj === 'object') {\n    WinJSDec(_ => {\n      if (!obj.shareItems) {\n        if (shareType().shareItems.length > 0) {\n          obj['shareItems'] = shareType().shareItems\n        }\n      }\n      window.WinJSBridge.call('tools', 'shareImage', obj, function (res) {\n        var {code, response} = res;\n        if (code == 0) {\n          if (response.shareItem) {\n            TOAST('分享成功');\n            obj.fn(response);\n          }\n        } else {\n          throw new Error(`[${name}] ${appError}`);\n        }\n      });\n    });\n  } else {\n    throw new TypeError(`[${name}] ${objError}`);\n  }\n};\nexport default SHARE_IMG;"]}